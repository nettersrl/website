import{j as t,C as M,M as y,d as w,a as b,E as v,L as f,u as x,b as C,e as L}from"./three-vendor-DAhXCgK1.js";import{b as h}from"./react-vendor-Cqc9wXGb.js";const d=["#4060ff","#20ffa0","#ff4060","#ffcc00"],P=(s=0)=>[{color:"#444",roughness:.1},{color:"#444",roughness:.75},{color:"#444",roughness:.75},{color:"white",roughness:.1},{color:"white",roughness:.75},{color:"white",roughness:.1},{color:d[s],roughness:.1,accent:!0},{color:d[s],roughness:.75,accent:!0},{color:d[s],roughness:.1,accent:!0}];function S(){const[s,i]=h.useReducer(n=>++n%d.length,2),o=h.useMemo(()=>P(s),[s]);return t.jsxs(M,{onClick:i,shadows:!0,dpr:[1,1.5],gl:{antialias:!1,alpha:!0},camera:{position:[0,0,15],fov:17.5,near:1,far:20},children:[t.jsx("ambientLight",{intensity:.4}),t.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:1,castShadow:!0}),o.map((n,r)=>t.jsx(g,{index:r,...n},r)),t.jsx(g,{position:[10,10,5],index:o.length,children:t.jsx(j,{children:t.jsx(y,{clearcoat:1,thickness:.1,anisotropicBlur:.1,chromaticAberration:.1,samples:8,resolution:512})})}),t.jsx(w,{multisampling:8,children:t.jsx(b,{distanceFalloff:1,aoRadius:1,intensity:4})}),t.jsx(v,{resolution:256,children:t.jsxs("group",{rotation:[-Math.PI/3,0,1],children:[t.jsx(f,{form:"circle",intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:2}),t.jsx(f,{form:"circle",intensity:2,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:2}),t.jsx(f,{form:"circle",intensity:2,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:2}),t.jsx(f,{form:"circle",intensity:2,"rotation-y":-Math.PI/2,position:[10,1,0],scale:8})]})})]})}function g({position:s,children:i,index:o=0,accent:n,...r}){const e=h.useRef(null),a=3,c=3,m=h.useMemo(()=>{if(s)return s;const p=o%a-(a-1)/2,l=Math.floor(o/a)-1,u=Math.floor(o/(a*2))-.5;return[p*c+(Math.random()-.5)*.3,l*c+(Math.random()-.5)*.3,u*c+(Math.random()-.5)*.3]},[s,o]);return x(p=>{if(!e.current)return;const l=p.clock.elapsedTime,u=o*1.2;e.current.position.y=m[1]+Math.sin(l*.6+u)*.15,e.current.position.x=m[0]+Math.cos(l*.4+u*.8)*.1,e.current.position.z=m[2]+Math.sin(l*.3+u*.6)*.08,e.current.rotation.x+=.005,e.current.rotation.y+=.003}),t.jsxs("group",{ref:e,position:m,children:[i||t.jsx(j,{...r}),n&&t.jsx("pointLight",{intensity:4,distance:2.5,color:r.color})]})}function j({children:s,color:i="white",roughness:o=0}){const n=h.useRef(null),{nodes:r,materials:e}=C("/c-transformed.glb");return x((a,c)=>{L.dampC(n.current.material.color,i,.2,c)}),t.jsxs("mesh",{ref:n,castShadow:!0,receiveShadow:!0,scale:10,geometry:r.connector.geometry,children:[t.jsx("meshStandardMaterial",{metalness:.2,roughness:o,map:e.base.map}),s]})}const k=({className:s=""})=>t.jsx("div",{className:`absolute inset-0 w-full h-full pointer-events-none overflow-hidden ${s}`,style:{clipPath:"inset(0)"},children:t.jsx(S,{})});export{k as ConsultancyTileAnimation};
